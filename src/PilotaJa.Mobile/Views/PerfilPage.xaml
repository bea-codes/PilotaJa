<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:PilotaJa.Mobile.ViewModels"
             x:Class="PilotaJa.Mobile.Views.PerfilPage"
             x:DataType="vm:PerfilViewModel"
             Title="{Binding Title}"
             BackgroundColor="{StaticResource Background}">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">
            
            <!-- Avatar -->
            <Frame WidthRequest="100" HeightRequest="100" CornerRadius="50" 
                   BackgroundColor="#E5E7EB" Padding="0" HorizontalOptions="Center" Margin="0,20,0,0">
                <Label Text="ðŸ‘¤" FontSize="40" VerticalOptions="Center" HorizontalOptions="Center"/>
            </Frame>

            <!-- Info do UsuÃ¡rio (se logado) -->
            <VerticalStackLayout Spacing="8" IsVisible="{Binding IsLoggedIn}">
                <Label Text="{Binding Perfil.Nome}" FontSize="24" FontAttributes="Bold" HorizontalOptions="Center"/>
                <Label Text="{Binding Perfil.Email}" TextColor="{StaticResource TextSecondary}" HorizontalOptions="Center"/>
                <Label Text="{Binding Perfil.Telefone}" TextColor="{StaticResource TextSecondary}" HorizontalOptions="Center"/>
            </VerticalStackLayout>

            <!-- NÃ£o logado -->
            <VerticalStackLayout Spacing="16" IsVisible="{Binding IsLoggedIn, Converter={StaticResource InvertedBoolConverter}}">
                <Label Text="VocÃª nÃ£o estÃ¡ logado" FontSize="18" HorizontalOptions="Center"/>
                <Button Text="Entrar" Style="{StaticResource PrimaryButton}"/>
                <Button Text="Criar Conta" BackgroundColor="Transparent" TextColor="{StaticResource Primary}"/>
            </VerticalStackLayout>

            <!-- Menu -->
            <Frame BackgroundColor="{StaticResource Surface}" CornerRadius="12" Padding="0" Margin="0,20,0,0">
                <VerticalStackLayout>
                    <Button Text="ðŸ“ Meus Dados" BackgroundColor="Transparent" TextColor="{StaticResource TextPrimary}" HorizontalOptions="Fill"/>
                    <BoxView HeightRequest="1" Color="#E5E7EB"/>
                    <Button Text="ðŸ”” NotificaÃ§Ãµes" BackgroundColor="Transparent" TextColor="{StaticResource TextPrimary}" HorizontalOptions="Fill"/>
                    <BoxView HeightRequest="1" Color="#E5E7EB"/>
                    <Button Text="â“ Ajuda" BackgroundColor="Transparent" TextColor="{StaticResource TextPrimary}" HorizontalOptions="Fill"/>
                    <BoxView HeightRequest="1" Color="#E5E7EB"/>
                    <Button Text="ðŸ“„ Termos de Uso" BackgroundColor="Transparent" TextColor="{StaticResource TextPrimary}" HorizontalOptions="Fill"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Logout -->
            <Button Text="Sair" 
                    BackgroundColor="#EF4444" 
                    TextColor="White"
                    CornerRadius="8"
                    Command="{Binding LogoutCommand}"
                    IsVisible="{Binding IsLoggedIn}"
                    Margin="0,20,0,0"/>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
